```python
a,b=map(int,input().split())  
matrices1=[[] for i in range(a)]  
matrices2=[[] for k in range(a)]  
for i in range(a):  
    matrices1[i]=list(map(int,input().split()))  
if len(matrices1[0])==1:  
    print(matrices1[0][0])  
    quit()  
def maa(bb):  
    if bb<2:  
        return 0  
    if bb==2 or bb==3:  
        return 1  
    if bb>3:  
        return 0  
def ma(aa,row,col):  
    if aa==0:  
        if row==0 and col==0:  
            list1=[matrices1[row][col+1],matrices1[row+1][col],matrices1[row][col+1],matrices1[row+1][col+1]]  
            if list1==[1,1,1]:  
                return 1  
            else:return 0  
        if row==0 and col==b-1:  
            list1=[matrices1[row][col-1],matrices1[row+1][col],matrices1[row+1][col-1]]  
            if list1==[1,1,1]:  
                return 1  
            else:return 0  
        if row==0:  
            list1=[matrices1[row][col-1],matrices1[row+1][col-1],matrices1[row+1][col],matrices1[row+1][col+1],matrices1[row][col+1]]  
            list1.sort(reverse=True)  
            if list1[0:3]==[1,1,1] and list1[3]==0:  
                return 1  
            else:return 0  
        if col==0 and row==a-1:  
            list1=[matrices1[row-1][col],matrices1[row][col+1],matrices1[row-1][col+1]]  
            if list1==[1,1,1]:  
                return 1  
            else:return 0  
        if col==0:  
            list1=[matrices1[row-1][col],matrices1[row-1][col+1],matrices1[row][col+1],matrices1[row+1][col+1],matrices1[row+1][col]]  
            list1.sort(reverse=True)  
            if list1[0:3]==[1,1,1] and list1[3]==0:  
                return 1  
            else:return 0  
        if row==a-1 and col==b-1:  
            list1=[matrices1[row-1][col],matrices1[row-1][col-1],matrices1[row][col-1]]  
            if list1==[1,1,1]:  
                return 1  
            else:return 0  
        if row==a-1:  
            list1=[matrices1[row][col-1],matrices1[row-1][col-1],matrices1[row-1][col],matrices1[row][col+1],matrices1[row-1][col+1]]  
            list1.sort(reverse=True)  
            if list1[0:3]==[1,1,1] and list1[3]==0:  
                return 1  
            else:return 0  
        if col==b-1:  
            list1=[matrices1[row-1][col],matrices1[row-1][col-1],matrices1[row][col-1],matrices1[row+1][col-1],matrices1[row+1][col]]  
            list1.sort(reverse=True)  
            if list1[0:3]==[1,1,1]  and list1[3]==0:  
                return 1  
            else:return 0  
        else:  
            list1=[matrices1[row-1][col-1],matrices1[row][col-1],matrices1[row+1][col-1],matrices1[row-1][col],matrices1[row+1][col],matrices1[row-1][col+1],matrices1[row][col+1],matrices1[row+1][col+1]]  
            list1.sort(reverse=True)  
            if list1[0:3]==[1,1,1] and list1[3]==0:  
                return 1  
            else:return 0  
    if aa==1:  
        if row==0 and col==0:  
            list1=[matrices1[row][col+1],matrices1[row+1][col],matrices1[row][col+1],matrices1[row+1][col+1]]  
            return maa(list1.count(1))  
        if row==0 and col==b-1:  
            list1=[matrices1[row][col-1],matrices1[row+1][col],matrices1[row+1][col-1]]  
            return maa(list1.count(1))  
        if row==0:  
            list1=[matrices1[row][col-1],matrices1[row+1][col-1],matrices1[row+1][col],matrices1[row+1][col+1],matrices1[row][col+1]]  
            return maa(list1.count(1))  
        if col==0 and row==a-1:  
            list1=[matrices1[row-1][col],matrices1[row][col+1],matrices1[row-1][col+1]]  
            return maa(list1.count(1))  
        if col==0:  
            list1=[matrices1[row-1][col],matrices1[row-1][col+1],matrices1[row][col+1],matrices1[row+1][col+1],matrices1[row+1][col]]  
            return maa(list1.count(1))  
        if row==a-1 and col==b-1:  
            list1=[matrices1[row-1][col],matrices1[row-1][col-1],matrices1[row][col-1]]  
            return maa(list1.count(1))  
        if row==a-1:  
            list1=[matrices1[row][col-1],matrices1[row-1][col-1],matrices1[row-1][col],matrices1[row][col+1],matrices1[row-1][col+1]]  
            return maa(list1.count(1))  
        if col==b-1:  
            list1=[matrices1[row-1][col],matrices1[row-1][col-1],matrices1[row][col-1],matrices1[row+1][col-1],matrices1[row+1][col]]  
            return maa(list1.count(1))  
        else:  
            list1 = [matrices1[row - 1][col - 1], matrices1[row][col - 1], matrices1[row + 1][col - 1],  
                     matrices1[row - 1][col], matrices1[row + 1][col], matrices1[row - 1][col + 1],  
                     matrices1[row][col + 1], matrices1[row + 1][col + 1]]  
            return maa(list1.count(1))  
for i in range(a):  
    for j in range(b):  
        matrices2[i].append(ma(matrices1[i][j],i,j))  
for i in range(a):  
    for j in range(b):  
        print(matrices2[i][j],end=" ")  
    print(" ")
```