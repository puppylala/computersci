```python
#可能要缓存棋盘了  
#matrix是记录是否走过的数组  
  
dict1={}  
sum1=0  
found=0  
def judge(matrice):  
    return all(all(x==0 for x in row)for row in matrice)  
def mamama(a,b,c,d,matrix):  
    global sum1,found  
    matrix[c][d]=0  
    if judge(matrix):  
        found=1  
        sum1+=1  
    elif dict1.get((str(matrix),c,d),0):  
        sum1+=dict1[(str(matrix),c,d)]  
        matrix[c][d]=1  
    else:  
        if c+2<=a-1 and d+1<=b-1 and matrix[c+2][d+1]==1:  
            mamama(a,b,c+2,d+1,matrix)  
            dict1[(str(matrix),c,d)]=found  
        if c+2<=a-1 and 0<=d-1<=b-1 and matrix[c+2][d-1]==1:  
            mamama(a,b,c+2,d-1,matrix)  
            dict1[(str(matrix),c,d)]=found  
        if c+1<=a-1 and 0<=d-2<=b-1 and matrix[c+1][d-2]==1:  
            mamama(a,b,c+1,d-2,matrix)  
            dict1[(str(matrix),c,d)]=found  
        if 0<=c-1<=a-1 and 0<=d-2<=b-1 and matrix[c-1][d-2]==1:  
            mamama(a,b,c-1,d-2,matrix)  
            dict1[(str(matrix),c,d)]=found  
        if 0<=c-2<=a-1 and 0<=d-1<=b-1 and matrix[c-2][d-1]==1:  
            mamama(a,b,c-2,d-1,matrix)  
            dict1[(str(matrix),c,d)]=found  
        if 0<=c-2<=a-1 and d+1<=b-1 and matrix[c-2][d+1]==1:  
            mamama(a,b,c-2,d+1,matrix)  
            dict1[(str(matrix),c,d)]=found  
        if 0<=c-1<=a-1 and d+2<=b-1 and matrix[c-1][d+2]==1:  
            mamama(a,b,c-1,d+2,matrix)  
            dict1[(str(matrix),c,d)]=found  
        if c+1<=a-1 and d+2<=b-1 and matrix[c+1][d+2]==1:  
            mamama(a,b,c+1,d+2,matrix)  
            dict1[(str(matrix),c,d)]=found  
e=int(input())  
list5=[]  
for i in range(e):  
    f,g,h,j=map(int,input().split())  
    matrices=[[1 for k in range(g)]for m in range(f)]  
    mamama(f,g,h,j,matrices)  
    list5.append(sum1)  
    sum1=0  
    dict1={}  
for i in list5:  
    print(i)
```