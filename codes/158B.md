```python
a=int(input())  
b=input().split()  
b=" ".join(b)  
c=b.count("1")  
d=b.count("3")  
e=b.count("2")  
f=b.count("4")  
if d>=c:  
    print(f+d+(e+1)//2)  
elif ((c-d)+1)//2<=e%2:  
    print(f+d+e//2+e%2)  
else:  
    print(f+d+e//2+e%2+(c-d-2*(e%2)+3)//4)
```